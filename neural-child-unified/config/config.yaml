#----------------------------------------------------------------------------
#File:       config.yaml
#Project:    Baby LLM - Unified Neural Child Development System
#Created by: Celaya Solutions, 2025
#Author:     Christopher Celaya <chris@chriscelaya.com>
#Description: Unified configuration with Ollama and GPU support
#Version:    1.0.0
#License:    MIT
#Last Update: January 2025
#----------------------------------------------------------------------------

# Neural Child - Unified Configuration
# Consolidated from all 5 projects with Ollama and GPU support

# Ollama LLM Configuration
ollama:
  base_url: "http://localhost:11434"
  model: "gemma3:1b"
  temperature: 0.7
  max_tokens: 4096
  gpu: true
  gpu_layers: -1  # -1 = use all available layers on GPU
  num_ctx: 4096
  num_thread: 8
  timeout: 120  # seconds

# Hardware Configuration
hardware:
  cuda: true
  device: "cuda"  # cuda, cpu, or mps (for Apple Silicon)
  mixed_precision: true
  memory_optimization: true
  enable_cudnn_benchmark: true
  deterministic: false

# Model Parameters
model_params:
  base_dim: 128
  hidden_dim: 1024
  num_layers: 12
  num_heads: 16
  dropout: 0.1
  embedding_dim: 384
  emotion_dim: 4

# Network Architectures
networks:
  consciousness:
    input_dim: 64
    hidden_dim: 128
    output_dim: 64
  emotions:
    input_dim: 32
    hidden_dim: 64
    output_dim: 32
  perception:
    input_dim: 128
    hidden_dim: 256
    output_dim: 64
  thoughts:
    input_dim: 64
    hidden_dim: 128
    output_dim: 64
  language:
    input_dim: 96
    hidden_dim: 192
    output_dim: 48

# Developmental Curriculum
curriculum:
  stage_thresholds:
    newborn: 0.2
    early_infancy: 0.3
    late_infancy: 0.4
    early_toddler: 0.5
    late_toddler: 0.6
    early_preschool: 0.7
    late_preschool: 0.75
    early_childhood: 0.8
    middle_childhood: 0.85
    late_childhood: 0.9
    early_elementary: 0.9
    middle_elementary: 0.92
    late_elementary: 0.94
    early_adolescence: 0.95
    middle_adolescence: 0.96
    late_adolescence: 0.97
    young_adult: 0.98
    mature_adult: 0.99
  interactions_per_stage: 100
  min_stage_success_rate: 0.4
  stage_progression_threshold: 0.5

# Memory System
memory:
  short_term_capacity: 1000
  long_term_capacity: 50000
  working_memory_size: 10
  replay_batch_size: 32
  consolidation_interval: 3600  # seconds
  memory_consolidation_interval: 50  # iterations

# Emotional Regulation
emotional_regulation:
  emotion_dim: 4
  context_window: 5
  memory_dim: 32
  emotional_range:
    - happiness
    - sadness
    - anger
    - fear
    - surprise
    - disgust
    - trust
    - anticipation

# Ethical Constraints
ethical_constraints:
  harm_threshold: 0.4
  fairness_weight: 0.9
  honesty_bias: 0.75
  anxiety_threshold: 0.7

# Training Configuration
training:
  learning_rate: 3e-4
  weight_decay: 0.01
  gradient_clip_norm: 1.0
  warmup_steps: 1000
  checkpoint_interval: 100
  save_interval: 300  # seconds (5 minutes)
  max_iterations: 1000
  moving_average_window: 50

# Mind Simulation
mind:
  learning_rate: 0.001
  step_interval: 0.1  # seconds
  need_update_interval: 5.0  # seconds
  memory_consolidation_interval: 30.0  # seconds
  development_check_interval: 60.0  # seconds
  network_growth_check_interval: 120.0  # seconds
  development_acceleration: 1.0  # 1.0 = normal speed
  starting_stage: "INFANT"

  features_enabled:
    memory_consolidation: true
    emotional_development: true
    belief_formation: true
    language_acquisition: true
    need_simulation: true

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  console_logging: true
  file_logging: true
  log_file: "logs/neuralchild.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  rotate_logs: true
  max_log_size: 10485760  # 10 MB
  backup_count: 5

# Visualization Configuration
visualization:
  enabled: true
  update_interval: 1.0  # seconds
  obsidian_integration: false
  graph_enabled: true

  colors:
    background: "#f0f0f0"
    text: "#333333"
    highlight: "#3498db"
    secondary: "#e74c3c"
    tertiary: "#2ecc71"

  network_display:
    consciousness: true
    emotions: true
    perception: true
    thoughts: true
    language: true

# Flask/Web Interface Configuration
flask:
  host: "0.0.0.0"
  port: 5000
  debug: false
  secret_key: "${FLASK_SECRET_KEY}"  # Set via environment variable
  max_content_length: 16777216  # 16 MB

# Development Settings
development:
  debug_mode: false
  simulate_llm: false
  profile_performance: false
  crash_on_error: false
  record_metrics: true
  experimental_features: {}

# Paths Configuration
paths:
  checkpoint_dir: "data/checkpoints"
  log_dir: "data/logs"
  data_dir: "data"
  model_dir: "data/models"
  cache_dir: "data/cache"

# System Health Checks
health_checks:
  ollama_enabled: true
  gpu_enabled: true
  memory_threshold: 0.85  # Alert if memory usage exceeds 85%
  check_interval: 60  # seconds

